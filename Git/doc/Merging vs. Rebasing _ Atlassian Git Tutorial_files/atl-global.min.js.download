var ace=ace||{};ace.analytics=ace.analytics||{},ace.analytics.Metrics=function(){"use strict";var c="EfO4XtTnlB1E00O5rxNqsLPBk7mOXLbb",s="hcILfbkw2gwUqAgYxDspxFGVgJL2jLba",u={};return{logMetric:function(e,t){u[e]=t||new Date},sendMetrics:function(e){if(ace.analytics.Metrics.loadTimestamp){for(var t in u)u.hasOwnProperty(t)&&0<u[t]&&(u[t]=u[t]-ace.analytics.Metrics.loadTimestamp);var n=ace.mkt.Helpers.getEnvironment()===ace.mkt.Helpers.ENVIRONMENT.PROD?c:s,r=ace.analytics.Cohort.readAtlCohort(),i={metrics:u,atlJSVersion:ace.analytics.version,cohort:r?r.bucketAll.index:null,host:e?e.hostFake:window.location.host,path:e?e.pathFake:window.location.pathname,pageViewId:ace.analytics.Tracking.getPageViewId()},a=ace.mkt.Cookie.readCookie("ajs_anonymous_id"),o=a?decodeURIComponent(a).replace(/['"]+/g,""):"undefined";ace.mkt.Helpers.logEvent(n,o,"atlGlobalMetrics",i,e),u={}}},resetMetrics:function(){u={}},METRICS_KEYS:{TIME_TO_LOAD:"timeToLoad",TIME_TO_SEGMENT_LOAD:"timeToSegmentLoad",TIME_TO_AVAILABLE:"timeToAvailable",TIME_TO_READY:"timeToReady",TIME_TO_USERDATA:"timeToUserDataSetCall",TIME_TO_USER_COMPLETE:"timeToUserDataComplete"},PROD_LOG_KEY:c,TEST_LOG_KEY:s}}();var ace=ace||{};ace.mkt=ace.mkt||{},ace.mkt.Cookie=function(){"use strict";return{getCookieUrl:function(e,t){var n=ace.mkt.Cookie.readCookie(e);return null!==n?n:t},readCookie:function(e){try{for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}}catch(e){}return null},writeCookie:function(e,t,n,r){var i=n?24*n*60*60:null;ace.mkt.Cookie.writeCookieInSeconds(e,t,i,r)},writeCookieInSeconds:function(e,t,n,r){try{var i="";if(n){var a=new Date;a.setTime(a.getTime()+1e3*n),i="; expires="+a.toGMTString()}var o=e+"="+t+i+"; path=/;",c=window.location.hostname;if("localhost"!==c&&!0===r){var s=c.split(".");if(1<s.length){var u=s[s.length-1],l=s[s.length-2];(isNaN(u)||isNaN(l))&&(c="."+l+"."+u)}o+=" domain="+c+";"}document.cookie=o}catch(e){}}}}();var ace=ace||{};ace.mkt=ace.mkt||{},ace.mkt.CrossOriginMessenger=function(){"use strict";var r="ace.mkt.CrossOriginMessenger",a=[];return window.addEventListener("message",function(e){var t,n=function(e){try{return JSON.parse(e)}catch(e){return}}(e.data);(t=n)&&t.source===r&&function(e,t){for(var n=0;n<a.length;n++){var r=a[n];r.type===e.type&&(i=r,0===t.indexOf(i.domain))&&r.callback(e)}var i}(n,e.origin)},!1),{createMessage:function(e,t){return JSON.stringify({type:e,payload:t,source:r})},sendMessage:function(e,t,n){e.postMessage(n,t)},addListener:function(e,t,n){a.push({type:e,domain:t.replace(/(^https:\/\/.*):443$/,"$1").replace(/(^http:\/\/.*):80$/,"$1"),callback:n})},clearAllListeners:function(){a=[]}}}();var ace=ace||{};ace.mkt=ace.mkt||{},ace.mkt.Guid=function(){"use strict";return{guid:function(){return Math.guid()},guidNoDashes:function(){return Math.guid().replace(/-/g,"")},addNumberToGUID:function(e,t){var n=e.slice(-4),r=parseInt(n,16);if(isNaN(r))return e;var i=r.toString(16).length;return 65535<(r+=t)?r-=65536:r<0&&(r+=65536),(n=r.toString(16)).length<i&&(n=("00000"+n).slice(-i)),e.slice(0,e.length-n.length)+n},guidHashCode:function(e){for(var t=0,n=0;n<e.length;n++)t+=Math.pow(31*e.charCodeAt(n),e.length-n),t&=t;return Math.abs(t)}}}();var ace=ace||{};ace.mkt=ace.mkt||{},ace.mkt.Helpers=function(){"use strict";var t=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i,n="/path-contained-email-address",r={LOCAL:"local",DEV:"dev",STAGE:"stage",PROD:"prod"};function e(){try{var e="atl-global",t=".min.js",n=document.querySelector('script[src*="'+e+t+'"]');if(n||(t=".js",n=document.querySelector('script[src*="'+e+t+'"]')),!n){var r=window.location&&window.location.href||null;return ace.mkt.Helpers.logEvent("OwkfO6MbQAZAEBuW9CxxAgyahOi8I51r","error","getScript returns default",{location:r}),{source:"https://atl-global.atlassian.com/js/",extension:".min.js"}}var i=n.src.indexOf(e+t);return{source:n.src.substring(0,i),extension:t}}catch(e){return null}}function i(){var e=function(){for(var e,t=document.getElementsByTagName("link"),n=0;e=t[n];n++)if("canonical"===e.getAttribute("rel"))return e.getAttribute("href")}();if(e)return e;var t=window.location.href,n=t.indexOf("#");return-1===n?t:t.slice(0,n)}function a(e){return decodeURIComponent(e).match(t)}function o(e){var t=document.createElement("a");return t.href=e,t.protocol+"//"+t.host}function c(e){return Number.isNaN(Number(e))||"string"!=typeof e||""===e.trim()?null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()):e=Number(e),e}return window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),{addActualUrl:function(e){window.location.href!==i()&&(e.url?e.actualUrl=e.url:e.actualUrl=window.location.href)},addLoadEvent:function(e){if("complete"===document.readyState)e();else if(window.addEventListener)window.addEventListener("load",e,!1);else if(window.attachEvent)window.attachEvent("onload",e);else{var t=window.onload;window.onload=function(){t&&t(),e()}}},ENVIRONMENT:r,getScript:e,getParameterByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},getBaseUrl:function(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},getEnvironment:function(){var e=ace.mkt.Helpers.getScript();if(e&&e.source){var t=e.source;if(t.match("localhost:")||t.match("127.0.0.1:"))return r.LOCAL;if(t.match("/stp/qa/")||t.match("atl-global.stg"))return r.STAGE;if(t.match("/stp/current/")||t.match("atl-global.atlassian"))return r.PROD}return r.DEV},getUtms:function(e){if(window.location.search.indexOf("utm_"))for(var t in e)e.hasOwnProperty(t)&&(e[t]=ace.mkt.Helpers.getParameterByName(t));return e},getCanonicalUrl:i,urlWithoutPath:o,urlContainsEmail:a,addCleanedUrlAndPaths:function(e){return e.url=window.location.origin+n,e.path=n,e.search="",e},addCleanedReferrer:function(e){return e.referrer=o(document.referrer)+n,e},emailAddressIsDetected:function(){return a(window.location.href)||a(document.referrer)},endsWith:function(e,t){return-1!==e.indexOf(t,e.length-t.length)},hostnameFromUrl:function(e){return e.replace(/http(s|):\/\//g,"").split(/(\/|:)/g)[0]},isObject:function(e){return null!==e&&"object"==typeof e&&!1===Array.isArray(e)},flattenObject:function(e,d){var f=(d=d||{}).delimiter||".",p=d.maxDepth,h={};return function c(s,u,l){l=l||1,Object.keys(s).forEach(function(e){var t,n=s[e],r=d.safe&&Array.isArray(n),i=Object.prototype.toString.call(n),a=null!==(t=n)&&null!==t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t),o=u?u+f+e:e;if(!r&&!a&&("[object Object]"===i||"[object Array]"===i)&&Object.keys(n).length&&(!d.maxDepth||l<p))return c(n,o,l+1);h[o]=n})}(e),h},flattenDataToObject:function(t,e,n){var r={};return r[e]=ace.mkt.Helpers.flattenObject(n),r=ace.mkt.Helpers.flattenObject(r),Object.keys(r).forEach(function(e){t[e]=r[e]}),t},logEvent:function(e,t,n,r,i){var a={userId:t,event:n,properties:r,writeKey:e};ace.mkt.Helpers.makeRestRequest("POST","https://api.segment.io/v1/t",[{header:"Content-type",value:"text/plain"}],JSON.stringify(a),!1,null,i)},makeRestRequest:function(e,t,n,r,i,a,o){var c=o||new XMLHttpRequest;if(c.open(e,t),c.withCredentials=i||!1,n)for(var s=0;s<n.length;s++)c.setRequestHeader(n[s].header,n[s].value);r=r||null,c.onreadystatechange=function(){c.readyState===XMLHttpRequest.DONE&&(200<=c.status&&c.status<300?a&&a(c.responseText):a&&a("error"))},c.send(r)},queryString:function(e){var n={};if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(var t=e.split("&"),r=0;r<t.length;r++){t[r]=t[r].replace(/\+/g," ");var i=t[r].indexOf("="),a=t[r],o=void 0;0<=i&&(a=t[r].slice(0,i),o=t[r].slice(i+1));try{o=void 0===o?null:decodeURIComponent(o),a=decodeURIComponent(a)}catch(e){}void 0===n[a]?n[a]=o:n[a]=[].concat(n[a],o)}return Object.keys(n).forEach(function(e){var t=n[e];"object"==typeof t&&null!==t?Object.keys(t).forEach(function(e){t[e]=c(t[e])}):n[e]=c(t)}),n},sendWrapperLoadError:function(){if(ace.analytics.LaunchDarkly.getFeatureFlagForUser("load-error-logging")){var e=ace.mkt.Helpers.getEnvironment()===ace.mkt.Helpers.ENVIRONMENT.PROD?"https://www.atlassian.com/endpoint/atlglobalload":"https://wac.stg.internal.atlassian.com/endpoint/atlglobalload";ace.mkt.Helpers.makeRestRequest("GET",e,[{header:"Content-type",value:"text/plain"}],null,!1)}},getWrapperScript:e}}(),Math.trueRandom=function(){function s(){function e(e){e=e.toString();for(var t=0;t<e.length;t++){var n=.02519603282416938*(r+=e.charCodeAt(t));n-=r=n>>>0,r=(n*=r)>>>0,r+=4294967296*(n-=r)}return 2.3283064365386963e-10*(r>>>0)}var r=4022871197;return e.version="Mash 0.9",e}return function(){return function(e){var t=0,n=0,r=0,i=1;0==e.length&&(e=[+new Date]);var a=s();t=a(" "),n=a(" "),r=a(" ");for(var o=0;o<e.length;o++)(t-=a(e[o]))<0&&(t+=1),(n-=a(e[o]))<0&&(n+=1),(r-=a(e[o]))<0&&(r+=1);a=null;function c(){var e=2091639*t+2.3283064365386963e-10*i;return t=n,n=r,r=e-(i=0|e)}return c.uint32=function(){return 4294967296*c()},c.fract53=function(){return c()+11102230246251565e-32*(2097152*c()|0)},c.version="Alea 0.9",c.args=e,c}(Array.prototype.slice.call(arguments))}()}(),Math.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.trueRandom()|0;return("x"==e?t:3&t|8).toString(16)})};var ace=ace||{};ace.mkt=ace.mkt||{},ace.mkt.StorageManager=function(){"use strict";function e(e,t){this.prefix=e,this.id=t,this.namespace=this.prefix+"."+this.id;try{this.localStorageSupported="localStorage"in window&&null!==window.localStorage}catch(e){}}var r=/\d+#/;return e.prototype={getPrefix:function(e){var t=1e3*(e||0);return t?+new Date+t+"#":""},getItem:function(e){if(!this.localStorageSupported)return null;var t=localStorage.getItem(this.namespace+"."+e),n=r.exec(t);return!0===n&&(t=t.replace(n[0],""),+new Date>n[0].replace("#",""))?(localStorage.removeItem(this.namespace+"."+e),null):t},contains:function(e){return!!this.getItem(e)},setItem:function(e,t,n){this.localStorageSupported&&(t=this.getPrefix(n)+t,localStorage.setItem(this.namespace+"."+e,t))},removeItem:function(e){this.localStorageSupported&&localStorage.removeItem(this.namespace+"."+e)}},{instance:e}}();var ace=ace||{};ace.mkt=ace.mkt||{},ace.mkt.MessageTypes={atlPathEstablished:"atlPathEstablished"};var globalRequire=function(){"use strict";var require={},requirejs,define;return function(global,setTimeout){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.6",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){var n;if(e)for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}function eachReverse(e,t){var n;if(e)for(n=e.length-1;-1<n&&(!e[n]||!t(e[n],n,e));--n);}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(n,e,r,i){return e&&eachProp(e,function(e,t){!r&&hasProp(n,t)||(!i||"object"!=typeof e||!e||isArray(e)||isFunction(e)||e instanceof RegExp?n[t]=e:(n[t]||(n[t]={}),mixin(n[t],e,r,i)))}),n}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttps://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,r){var i,a,o=defContextName;return isArray(e)||"string"==typeof e||(a=e,isArray(t)?(e=t,t=n,n=r):e=[]),a&&a.context&&(o=a.context),i=(i=getOwn(contexts,o))||(contexts[o]=req.s.newContext(o)),a&&i.configure(a),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=void 0!==setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require=require||req,req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(t){req[t]=function(){var e=contexts[defContextName];return e.require[t].apply(e,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(t,n,r){var e,i=t&&t.config||{};if(isBrowser)return(e=req.createNode(i,n,r)).setAttribute("data-requirecontext",t.contextName),e.setAttribute("data-requiremodule",n),!e.attachEvent||e.attachEvent.toString&&e.attachEvent.toString().indexOf("[native code")<0||isOpera?(e.addEventListener("load",t.onScriptLoad,!1),e.addEventListener("error",t.onScriptError,!1)):(useInteractive=!0,e.attachEvent("onreadystatechange",t.onScriptLoad)),e.src=r,i.onNodeCreated&&i.onNodeCreated(e,i,n,r),currentlyAddingScript=e,baseElement?head.insertBefore(e,baseElement):head.appendChild(e),currentlyAddingScript=null,e;if(isWebWorker)try{setTimeout(function(){},0),importScripts(r),t.completeLoad(n)}catch(e){t.onError(makeError("importscripts","importScripts failed for "+n+" at "+r,e,[n]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head=head||e.parentNode,dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(mainScript=(src=mainScript.split("/")).pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,n,t){var r,i;"string"!=typeof e&&(t=n,n=e,e=null),isArray(n)||(t=n,n=null),!n&&isFunction(t)&&(n=[],t.length&&(t.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,t){n.push(t)}),n=(1===t.length?["require"]:["require","exports","module"]).concat(n))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript())&&(e=e||r.getAttribute("data-requiremodule"),i=contexts[r.getAttribute("data-requirecontext")]),i?(i.defQueue.push([e,n,t]),i.defQueueMap[e]=!0):globalDefQueue.push([e,n,t])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}function newContext(s){var n,e,p,u,l,g={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},d={},f={},r={},h=[],m={},i={},v={},y=1,w=1;function b(e,t,n){var r,i,a,o,c,s,u,l,d,f,p=t&&t.split("/"),h=g.map,m=h&&h["*"];if(e&&(s=(e=e.split("/")).length-1,g.nodeIdCompat&&jsSuffixRegExp.test(e[s])&&(e[s]=e[s].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&p&&(e=p.slice(0,p.length-1).concat(e)),function(e){var t,n;for(t=0;t<e.length;t++)if("."===(n=e[t]))e.splice(t,1),--t;else if(".."===n){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;0<t&&(e.splice(t-1,2),t-=2)}}(e),e=e.join("/")),n&&h&&(p||m)){e:for(a=(i=e.split("/")).length;0<a;--a){if(c=i.slice(0,a).join("/"),p)for(o=p.length;0<o;--o)if(r=(r=getOwn(h,p.slice(0,o).join("/")))&&getOwn(r,c)){u=r,l=a;break e}!d&&m&&getOwn(m,c)&&(d=getOwn(m,c),f=a)}!u&&d&&(u=d,l=f),u&&(i.splice(0,l,u),e=i.join("/"))}return getOwn(g.pkgs,e)||e}function k(t){isBrowser&&each(scripts(),function(e){if(e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===p.contextName)return e.parentNode.removeChild(e),!0})}function x(e){var t=getOwn(g.paths,e);return t&&isArray(t)&&1<t.length&&(t.shift(),p.require.undef(e),p.makeRequire(null,{skipMap:!0})([e]),1)}function E(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function S(e,t,n,r){var i,a,o,c,s=null,u=t?t.name:null,l=e,d=!0,f="";return e||(d=!1,e="_@r"+(y+=1)),s=(c=E(e))[0],e=c[1],s&&(s=b(s,u,r),a=getOwn(m,s)),e&&(s?f=n?e:a&&a.normalize?a.normalize(e,function(e){return b(e,u,r)}):-1===e.indexOf("!")?b(e,u,r):e:(s=(c=E(f=b(e,u,r)))[0],f=c[1],n=!0,i=p.nameToUrl(f))),{prefix:s,name:f,parentMap:t,unnormalized:!!(o=!s||a||n?"":"_unnormalized"+(w+=1)),url:i,originalName:l,isDefine:d,id:(s?s+"!"+f:f)+o}}function O(e){var t=e.id,n=getOwn(d,t);return n=n||(d[t]=new p.Module(e))}function M(e,t,n){var r=e.id,i=getOwn(d,r);!hasProp(m,r)||i&&!i.defineEmitComplete?(i=O(e)).error&&"error"===t?n(i.error):i.on(t,n):"defined"===t&&n(m[r])}function T(n,e){var t=n.requireModules,r=!1;e?e(n):(each(t,function(e){var t=getOwn(d,e);t&&(t.error=n,t.events.error&&(r=!0,t.emit("error",n)))}),r||req.onError(n))}function q(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(p.defQueueMap[t]=!0),h.push(e)}),globalDefQueue=[])}function A(e){delete d[e],delete f[e]}function I(){var e,r,t=1e3*g.waitSeconds,i=t&&p.startTime+t<(new Date).getTime(),a=[],o=[],c=!1,s=!0;if(!n){if(n=!0,eachProp(f,function(e){var t=e.map,n=t.id;if(e.enabled&&(t.isDefine||o.push(e),!e.error))if(!e.inited&&i)x(n)?c=r=!0:(a.push(n),k(n));else if(!e.inited&&e.fetched&&t.isDefine&&(c=!0,!t.prefix))return s=!1}),i&&a.length)return(e=makeError("timeout","Load timeout for modules: "+a,null,a)).contextName=p.contextName,T(e);s&&each(o,function(e){!function i(a,o,c){var e=a.map.id;a.error?a.emit("error",a.error):(o[e]=!0,each(a.depMaps,function(e,t){var n=e.id,r=getOwn(d,n);!r||a.depMatched[t]||c[n]||(getOwn(o,n)?(a.defineDep(t,m[n]),a.check()):i(r,o,c))}),c[e]=!0)}(e,{},{})}),i&&!r||!c||!isBrowser&&!isWebWorker||l||(l=setTimeout(function(){l=0,I()},50)),n=!1}}function o(e){hasProp(m,e[0])||O(S(e[0],null,!0)).init(e[1],e[2])}function a(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function c(e){var t=e.currentTarget||e.srcElement;return a(t,p.onScriptLoad,"load","onreadystatechange"),a(t,p.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function C(){var e;for(q();h.length;){if(null===(e=h.shift())[0])return T(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));o(e)}p.defQueueMap={}}return u={require:function(e){return e.require?e.require:e.require=p.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?m[e.map.id]=e.exports:e.exports=m[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(g.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},(e=function(e){this.events=getOwn(r,e.id)||{},this.map=e,this.shim=getOwn(g.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0}).prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,--this.depCount,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,p.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();p.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;i[e]||(i[e]=!0,p.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var t,e,n=this.map.id,r=this.depExports,i=this.exports,a=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(a)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{i=p.execCb(n,a,r,i)}catch(e){t=e}else i=p.execCb(n,a,r,i);if(this.map.isDefine&&void 0===i&&((e=this.module)?i=e.exports:this.usingExports&&(i=this.exports)),t)return t.requireMap=this.map,t.requireModules=this.map.isDefine?[this.map.id]:null,t.requireType=this.map.isDefine?"define":"require",T(this.error=t)}else i=a;if(this.exports=i,this.map.isDefine&&!this.ignore&&(m[n]=i,req.onResourceLoad)){var o=[];each(this.depMaps,function(e){o.push(e.normalizedMap||e)}),req.onResourceLoad(p,this.map,o)}A(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(p.defQueueMap,n)||this.fetch()}},callPlugin:function(){var s=this.map,u=s.id,e=S(s.prefix);this.depMaps.push(e),M(e,"defined",bind(this,function(e){var a,t,n,r=getOwn(v,this.map.id),i=this.map.name,o=this.map.parentMap?this.map.parentMap.name:null,c=p.makeRequire(s.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(e.normalize&&(i=e.normalize(i,function(e){return b(e,o,!0)})||""),M(t=S(s.prefix+"!"+i,this.map.parentMap,!0),"defined",bind(this,function(e){this.map.normalizedMap=t,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((n=getOwn(d,t.id))&&(this.depMaps.push(t),this.events.error&&n.on("error",bind(this,function(e){this.emit("error",e)})),n.enable()))):r?(this.map.url=p.nameToUrl(r),void this.load()):((a=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})})).error=bind(this,function(e){this.inited=!0,(this.error=e).requireModules=[u],eachProp(d,function(e){0===e.map.id.indexOf(u+"_unnormalized")&&A(e.map.id)}),T(e)}),a.fromText=bind(this,function(e,t){var n=s.name,r=S(n),i=useInteractive;t&&(e=t),i&&(useInteractive=!1),O(r),hasProp(g.config,u)&&(g.config[n]=g.config[u]);try{req.exec(e)}catch(e){return T(makeError("fromtexteval","fromText eval for "+u+" failed: "+e,e,[u]))}i&&(useInteractive=!0),this.depMaps.push(r),p.completeLoad(n),c([n],a)}),void e.load(s.name,c,a,g))})),p.enable(e,this),this.pluginMaps[e.id]=e},enable:function(){(f[this.map.id]=this).enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,r,i;if("string"==typeof e){if(e=S(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(u,e.id))return void(this.depExports[t]=i(this));this.depCount+=1,M(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?M(e,"error",bind(this,this.errback)):this.events.error&&M(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,r=d[n],hasProp(u,n)||!r||r.enabled||p.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(d,e.id);t&&!t.enabled&&p.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];(n=n||(this.events[e]=[])).push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},(p={config:g,contextName:s,registry:d,defined:m,urlFetched:i,defQueue:h,defQueueMap:{},Module:e,makeModuleMap:S,nextTick:req.nextTick,onError:T,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var n=e.urlArgs;e.urlArgs=function(e,t){return(-1===t.indexOf("?")?"?":"&")+n}}var r=g.shim,i={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){i[t]?(g[t]||(g[t]={}),mixin(g[t],e,!0,!0)):g[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(v[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=p.makeShimExports(e)),r[t]=e}),g.shim=r),e.packages&&each(e.packages,function(e){var t;t=(e="string"==typeof e?{name:e}:e).name,e.location&&(g.paths[t]=e.location),g.pkgs[t]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(d,function(e,t){e.inited||e.map.unnormalized||(e.map=S(t,null,!0))}),(e.deps||e.callback)&&p.require(e.deps||[],e.callback)},makeShimExports:function(t){return function(){var e;return t.init&&(e=t.init.apply(global,arguments)),e||t.exports&&getGlobal(t.exports)}},makeRequire:function(a,o){function c(e,t,n){var r,i;return o.enableBuildCallback&&t&&isFunction(t)&&(t.__requireJsBuild=!0),"string"==typeof e?isFunction(t)?T(makeError("requireargs","Invalid require call"),n):a&&hasProp(u,e)?u[e](d[a.id]):req.get?req.get(p,e,a,c):(r=S(e,a,!1,!0).id,hasProp(m,r)?m[r]:T(makeError("notloaded",'Module name "'+r+'" has not been loaded yet for context: '+s+(a?"":". Use require([])")))):(C(),p.nextTick(function(){C(),(i=O(S(null,a))).skipMap=o.skipMap,i.init(e,t,n,{enabled:!0}),I()}),c)}return o=o||{},mixin(c,{isBrowser:isBrowser,toUrl:function(e){var t,n=e.lastIndexOf("."),r=e.split("/")[0];return-1!==n&&(!("."===r||".."===r)||1<n)&&(t=e.substring(n,e.length),e=e.substring(0,n)),p.nameToUrl(b(e,a&&a.id,!0),t,!0)},defined:function(e){return hasProp(m,S(e,a,!1,!0).id)},specified:function(e){return e=S(e,a,!1,!0).id,hasProp(m,e)||hasProp(d,e)}}),a||(c.undef=function(n){q();var e=S(n,a,!0),t=getOwn(d,n);t.undefed=!0,k(n),delete m[n],delete i[e.url],delete r[n],eachReverse(h,function(e,t){e[0]===n&&h.splice(t,1)}),delete p.defQueueMap[n],t&&(t.events.defined&&(r[n]=t.events),A(n))}),c},enable:function(e){getOwn(d,e.id)&&O(e).enable()},completeLoad:function(e){var t,n,r,i=getOwn(g.shim,e)||{},a=i.exports;for(q();h.length;){if(null===(n=h.shift())[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);o(n)}if(p.defQueueMap={},r=getOwn(d,e),!t&&!hasProp(m,e)&&r&&!r.inited){if(!(!g.enforceDefine||a&&getGlobal(a)))return x(e)?void 0:T(makeError("nodefine","No define call for "+e,null,[e]));o([e,i.deps||[],i.exportsFn])}I()},nameToUrl:function(e,t,n){var r,i,a,o,c,s,u=getOwn(g.pkgs,e);if(u&&(e=u),s=getOwn(v,e))return p.nameToUrl(s,t,n);if(req.jsExtRegExp.test(e))o=e+(t||"");else{for(r=g.paths,a=(i=e.split("/")).length;0<a;--a)if(c=getOwn(r,i.slice(0,a).join("/"))){isArray(c)&&(c=c[0]),i.splice(0,a,c);break}o=i.join("/"),o=("/"===(o+=t||(/^data\:|^blob\:|\?/.test(o)||n?"":".js")).charAt(0)||o.match(/^[\w\+\.\-]+:/)?"":g.baseUrl)+o}return g.urlArgs&&!/^blob\:/.test(o)?o+g.urlArgs(e,o):o},load:function(e,t){req.load(p,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=c(e);p.completeLoad(t.id)}},onScriptError:function(e){var n=c(e);if(!x(n.id)){var r=[];return eachProp(d,function(e,t){0!==t.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===n.id)return r.push(t),!0})}),T(makeError("scripterror",'Script error for "'+n.id+(r.length?'", needed by: '+r.join(", "):'"'),e,[n.id]))}}}).require=p.makeRequire(),p}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState||eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),{require:require,define:define,config:require.config}}(),ace=ace||{};ace.analytics=ace.analytics||{},ace.analytics.Cohort=function(){"use strict";var r="atlCohort",a="2",i=["index","bucketedAtUTC","version","bucketId"],o={bucketAll:{bucketId:0}};function c(){var e,t=ace.mkt.Cookie.readCookie(r);try{return e=JSON.parse(t),ace.mkt.Helpers.isObject(e)?e:null}catch(e){return null}}function s(r){return Object.keys(o).filter(function(e){return t=e,n=r,!(ace.mkt.Helpers.isObject(n)&&void 0!==n[t]&&ace.mkt.Helpers.isObject(n[t])&&i.every(function(e){return void 0!==n[t][e]}));var t,n})}return{ATL_COHORT:r,COHORT_VERSION:a,readWriteAtlCohort:function(e){var t,i=!e&&c()||{},n=s(i);return n.length&&(n.forEach(function(e){var t,n,r;i[e]=(t=o[e],n=ace.analytics.SegmentIO.getAnonymousId(),(r={bucketedAtUTC:(new Date).toISOString(),version:a}).index=n?ace.mkt.Guid.guidHashCode(ace.mkt.Guid.addNumberToGUID(n,t.bucketId))%100:Math.ceil(100*Math.random()),Object.keys(t).forEach(function(e){r[e]=t[e]}),r)}),t=i,ace.mkt.Helpers.isObject(t)&&ace.mkt.Cookie.writeCookie(r,JSON.stringify(t),3650,!0),i=c()),i},readAtlCohort:c}}();var ace=ace||{};ace.analytics=ace.analytics||{},ace.analytics.Loader=function(){"use strict";return{loadVersion:function(e,t,n,r){var i=document.createElement("script"),a=ace.mkt.Helpers.getScript();i.onload=function(){t&&"function"==typeof t&&t()},i.onerror=function(){n&&"function"==typeof n&&n(e)};var o=a.source+e+"/atl-global-"+e+a.extension;ace.analytics.Loader.checkForFile(o,function(){i.src=o,document.head.appendChild(i),ace.analytics.version=e},function(){i.src=a.source+ace.analytics.version+"/atl-global-"+ace.analytics.version+a.extension,document.head.appendChild(i)},r)},checkForFile:function(e,t,n,r){var i=r||new XMLHttpRequest;i.open("HEAD",e),i.setRequestHeader("Content-type","text/plain"),i.send(),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&(200<=i.status&&i.status<300?t:n)()}}}}();var ace=ace||{};ace.analytics=ace.analytics||{},ace.analytics.LaunchDarkly=function(){"use strict";var a,o,c;return{getFeatureFlagForUser:function(e,t,n){return o||n?(n||o).variation(e,t):null},initLaunchDarkly:function(e,t,n){if(a||n){var r=ace.analytics.Cohort.readAtlCohort(),i={key:"marketingEngineering",custom:{cohort:r?r.bucketAll.index:null,location:window.location?window.location.href:null}};c=new Map([[ace.mkt.Helpers.ENVIRONMENT.LOCAL,"5afa3d7607a72221591aeb72"],[ace.mkt.Helpers.ENVIRONMENT.DEV,"5afa3d7607a72221591aeb72"],[ace.mkt.Helpers.ENVIRONMENT.STAGE,"5afa4f0707a72221591aecfd"],[ace.mkt.Helpers.ENVIRONMENT.PROD,"5afa3d7607a72221591aeb73"]]),(o=(n||a).initialize(c.get(ace.mkt.Helpers.getEnvironment()),i,{bootstrap:"localStorage"})).on("ready",function(){e&&"function"==typeof e&&e()}),o.on("error",function(){t&&"function"==typeof t&&t()})}else t&&"function"==typeof t&&t()},loadLDSDK:function(t,n){var e=ace.mkt.Helpers.getScript();e&&e.source?(globalRequire.config({baseUrl:e.source}),globalRequire.require(["ld/ldclient.min","ld/ldclient-common.min"],function(e){a=e,t&&"function"==typeof t&&t()},function(e){n&&"function"==typeof n&&n(e)})):n&&"function"==typeof n&&n()}}}();var ace=ace||{};ace.analytics=ace.analytics||{},ace.analytics.MethodQueue=function(){"use strict";function r(e){var t=e.module,n=e.method,r=e.args;window.ace.analytics[t][n].apply(window.ace.analytics[t],r)}return{getWrapperMethods:function(){for(var e=[["Gtm","initialize",!0],["Gtm","page",!1],["Gtm","track",!1],["Identity","autoIdentify",!1],["Identity","callWithAtlPath",!1],["Identity","callWithAtlPathFromIFrame",!1],["Identity","findAtlPath",!1],["Identity","identify",!1],["Identity","transmitAtlPath",!1],["Initializer","globalCallReady",!0],["Initializer","initWithPageAnalytics",!0],["Initializer","initAnalytics",!0],["Initializer","init",!0],["Initializer","autoTrack",!0],["Initializer","gaIntegration",!0],["Initializer","initGAS",!0],["Initializer","initSnowplow",!0],["Initializer","ready",!0],["Optimizely","getCampaigns",!1],["Optimizely","getDemandbase",!1],["Optimizely","getExperimentAndVariationPairs",!1],["Optimizely","getVisitorId",!1],["Optimizely","isDemandbaseAvailable",!1],["Optimizely","isInitialized",!1],["SegmentIO","getAnonymousId",!1],["SegmentIO","getXID",!1],["SegmentIO","initSegment",!0],["SegmentIO","isInitialized",!1],["SegmentIO","isSegmentUserAvailable",!1],["SegmentIO","segmentDoReady",!0],["SegmentIO","pageStitching",!1],["SegmentIO","ready",!0],["SegmentIO","stubSegmentMethods",!0],["SegmentIO","trackEvent",!1],["SegmentIO","trackPage",!1],["SegmentIO","wrapSegment",!1],["Snowplow","loadSnowplow",!0],["Snowplow","trackPageView",!1],["Snowplow","trackSelfDescribingEvent",!1],["Tracking","autoTrackButtons",!1],["Tracking","autoTrackLinks",!1],["Tracking","autoTrackVideos",!1],["Tracking","enrichEventData",!1],["Tracking","logError",!1],["Tracking","pageView",!1],["Tracking","trackEvent",!1],["Tracking","readWriteSessionCookie",!1],["Properties","",!1]],t=new Map,n=0;n<e.length;n++){var r=e[n][0],i=t.get(r);(i=i||[]).push({name:e[n][1],initMethod:e[n][2]}),t.set(r,i)}return t},replayMethodQueue:function(e,t){for(var n=window.ace.analytics.methodQueue.length-1;0<=n;n--){if(!e||window.ace.analytics.methodQueue[n].initMethod)(t||r)(window.ace.analytics.methodQueue[n]),window.ace.analytics.methodQueue.splice(n,1)}},stubWrapperMethods:function(e,o){var t=window.ace.analytics.MethodQueue.getWrapperMethods();window.ace.analytics.methodQueue=[];var c=e||function(t,n,r){return function(){var e=Array.prototype.slice.call(arguments);return window.ace.analytics.methodQueue.unshift({module:t,method:n,args:e,initMethod:r}),window.ace.analytics.methodQueue}};t.forEach(function(e,t){for(var n=0;n<e.length;n++){var r=e[n].name,i=e[n].initMethod,a=o||window.ace.analytics;a[t]=a[t]||{},r&&(a[t][r]=c(t,r,i))}})},stubSegmentMethods:function(){var n=window.analytics=window.analytics||[];n.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],n.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);return e.unshift(t),n.push(e),n}};for(var e=0;e<n.methods.length;e++){var t=n.methods[e];n[t]=n.factory(t)}}}}();var ace=ace||{};function getAtlGlobalVersion(e){"use strict";ace.analytics.LaunchDarkly.loadLDSDK(function(){ace.analytics.LaunchDarkly.initLaunchDarkly(function(){e(ace.analytics.LaunchDarkly.getFeatureFlagForUser("atl-global-phased-roll-out"))},function(){e(ace.analytics.version)})},function(){e(ace.analytics.version)})}function loadAtlGlobal(){"use strict";ace.analytics.MethodQueue.stubWrapperMethods(),ace.analytics.MethodQueue.stubSegmentMethods(),ace.analytics.Metrics.logMetric(ace.analytics.Metrics.METRICS_KEYS.TIME_TO_AVAILABLE),getAtlGlobalVersion(function(e){window.segmentReady=function(){ace.analytics.Metrics.logMetric(ace.analytics.Metrics.METRICS_KEYS.TIME_TO_READY),ace.analytics.Metrics.sendMetrics()},ace.analytics.Loader.loadVersion(e,function(){var e=ace.analytics.LaunchDarkly.getFeatureFlagForUser("atl-global-destination-trigger")||"segment";"none"!==e&&(ace.analytics.GASv3&&(ace.analytics.GASv3.loadGASFlag="gasv3"===e||"both"===e||"gasv3+snowplow"===e),ace.analytics.Snowplow&&(ace.analytics.Snowplow.loadSnowplowFlag="snowplow"===e||"gasv3+snowplow"===e),ace.analytics.SegmentIO.loadSegmentFlag="segment"===e||"both"===e,ace.analytics.Metrics.logMetric(ace.analytics.Metrics.METRICS_KEYS.TIME_TO_LOAD),ace.analytics.MethodQueue.replayMethodQueue(!0),ace.analytics.MethodQueue.replayMethodQueue(!1))},loadError)})}function loadError(e){"use strict";ace.mkt.Helpers.sendWrapperLoadError()}ace.analytics=ace.analytics||{},ace.analytics.version="2.72.0",loadAtlGlobal();
//# sourceMappingURL=atl-global.min.js.map